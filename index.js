/**
 * ==========================================
 * Velron CFW โ Rules Bot
 * Discord.js v14
 * ==========================================
 * ูุฐุง ุงูููู ูุงูู ููุจูุช
 * ุชูุฏุฑ ุชุนุฏู ุงูููุงููู ูุงููุตูุต ุจุฑุงุญุชู
 * ุจุฏูู ูุง ุชุฎุงู ุชุฎุฑุจ ุงูุจูุช
 */

const {
  Client,
  GatewayIntentBits,
  EmbedBuilder,
  ActionRowBuilder,
  StringSelectMenuBuilder
} = require('discord.js');

/**
 * ==========================================
 * ุฅูุดุงุก ุงูุจูุช + ุงูุตูุงุญูุงุช
 * ==========================================
 * Guilds ููุท ูุฃููุง ูุณุชุฎุฏู Select Menu
 */
const client = new Client({
  intents: [GatewayIntentBits.Guilds]
});

/**
 * ==========================================
 * ุนูุฏ ุชุดุบูู ุงูุจูุช
 * ==========================================
 */
client.once('ready', async () => {
  console.log(`โ Logged in as ${client.user.tag}`);

  // ๐ก ุขูุฏู ุงูุฑูู ุงููู ุชูุฑุณู ููู ุฑุณุงูุฉ ุงูููุงููู
  const CHANNEL_ID = '1457506347456270468';

  const channel = await client.channels.fetch(CHANNEL_ID);

  /**
   * ------------------------------------------
   * ุงูุฅููุจุฏ ุงูุฑุฆูุณู (ุฃูู ุฑุณุงูุฉ)
   * ------------------------------------------
   */
  const mainEmbed = new EmbedBuilder()
    .setTitle('Velron CFW')
    .setDescription(
      '**โ ููุงููู ุณูุฑูุฑ ููุฑูู โ**\n\n' +
      'ูุฑุฌู ุงุฎุชูุงุฑ ุงููุณู ูุนุฑุถ ุงูููุงููู\n' +
      'ุนุฏู ุงูุงูุชุฒุงู ุจูุฐู ุงูููุงููู ูุนุฑุถู ูููุญุงุณุจุฉ'
    )
    .setColor(0x6a0dad)
    .setImage(
      'https://cdn.discordapp.com/attachments/1437919610362925217/1457539284255903784/Cfw.png'
    );

  /**
   * ------------------------------------------
   * ูููู ุงูุงุฎุชูุงุฑุงุช
   * ------------------------------------------
   */
  const menu = new StringSelectMenuBuilder()
    .setCustomId('rules_categories') // ูุฐุง ูุนุฑู ุงููููู (ูุง ุชุบููุฑู)
    .setPlaceholder('ุงุฎุชุฑ ูุณู ุงูููุงููู')
    .addOptions([
      { label: '๐ ุงูููุงููู ุงูุฑุฆูุณูุฉ', value: 'general' },
      { label: '๐ ููุงููู ุงูุฅุฌุฑุงู', value: 'crime' },
      { label: '๐ก๏ธ ุงูููุงุทู ุงูุขููุฉ', value: 'safe' },
      { label: '๐ ุขููุฉ ุงูุดูุงูู', value: 'reports' },
      { label: '๐ ููุงููู ุงููุชุฌุฑ', value: 'store' },
      { label: '๐ฌ ููุงููู ุงูุฏุณููุฑุฏ', value: 'discord' }
    ]);

  const row = new ActionRowBuilder().addComponents(menu);

  // ุฅุฑุณุงู ุงูุฑุณุงูุฉ
  await channel.send({
    embeds: [mainEmbed],
    components: [row]
  });
});

/**
 * ==========================================
 * ุงูุชุนุงูู ูุน ุงุฎุชูุงุฑ ุงููููู
 * ==========================================
 */
client.on('interactionCreate', async interaction => {
  // ูุชุฃูุฏ ุฅู ุงูุชูุงุนู ูู ูููู
  if (!interaction.isStringSelectMenu()) return;
  if (interaction.customId !== 'rules_categories') return;

  // ูููุน ุฑุณุงูุฉ "interaction failed"
  await interaction.deferReply({ ephemeral: true });

  let embed;

  /**
   * ==========================================
   * ุงูููุงููู ุงูุฑุฆูุณูุฉ
   * ==========================================
   */
  if (interaction.values[0] === 'general') {
    embed = new EmbedBuilder()
      .setTitle('๐ ุงูููุงููู ุงูุฑุฆูุณูุฉ')
      .setColor(0x2b2d31)
      .setDescription(`
โโโโโโโโโโโโโโโโโโโโ
ใ ุงูููุงููู ุงูุนุงูุฉ ใ
โโโโโโโโโโโโโโโโโโโโ
1. ูููุน Meta Gaming.
2. ูููุน VDM.
3. ูููุน RDM.
4. ุชููุต ุงูุดุฎุตูุฉ ุฅูุฒุงูู.
5. ูููุน ุฅูุงูุฉ ุงูุดุฎุต ุงููุณูุท.
6. ูููุน ุชูููุฏ ุงูุดุฑุทุฉ ุฃู ุงูุฅุณุนุงู.
7. ูููุน ุงูุฎุฑูุฌ ุนู ุงูุฑูู ุจูุงู.
8. /report ูููุฎุงููุงุช ููุท.
9. ุงูุชุญุฏุซ ุนู ุงูุฃูู ููุท ุนูุฏ ุงูุฅุณูุงุท.
10. ุงููุงู ุฃู ุงูููุชุด = ุจุงูุฏ ููุงุฆู.
โโโโโโโโโโโโโโโโโโโโ
`);
  }

  /**
   * ==========================================
   * ููุงููู ุงูุฅุฌุฑุงู
   * ==========================================
   */
  else if (interaction.values[0] === 'crime') {
    embed = new EmbedBuilder()
      .setTitle('๐ ููุงููู ุงูุฅุฌุฑุงู')
      .setColor(0x2b2d31)
      .setDescription(`
โโโโโโโโโโโโโโโโโโโโ
ใ ููุงููู ุงูุฅุฌุฑุงู ใ
โโโโโโโโโโโโโโโโโโโโ
1. ูููุน ุงูุฅุฌุฑุงู ุจุฏูู ุณููุงุฑูู.
2. ุงูุงูุชุฒุงู ุจุงูุนุฏุฏ.
3. ูููุน ุงูุฅุฌุฑุงู ุงูุนุดูุงุฆู.
4. ูููุน ุฎุทู ุงููุณุนููู.
5. ูููุน ุณุฑูุฉ ุฃุบุฑุงุถ ุงูุดุฑุทุฉ.
โโโโโโโโโโโโโโโโโโโโ
`);
  }

  /**
   * ==========================================
   * ุงูููุงุทู ุงูุขููุฉ
   * ==========================================
   */
  else if (interaction.values[0] === 'safe') {
    embed = new EmbedBuilder()
      .setTitle('๐ก๏ธ ุงูููุงุทู ุงูุขููุฉ')
      .setColor(0x2b2d31)
      .setDescription(`
โโโโโโโโโโโโโโโโโโโโ
ใ ุงูููุงุทู ุงูุขููุฉ ใ
โโโโโโโโโโโโโโโโโโโโ
1. ูููุน ุงููุชู.
2. ูููุน ุงูุฎุทู.
3. ูููุน ุฅุทูุงู ุงููุงุฑ.
4. ูููุน ุงูุงุณุชูุฒุงุฒ.
โโโโโโโโโโโโโโโโโโโโ
`);
  }

  /**
   * ==========================================
   * ุขููุฉ ุงูุดูุงูู
   * ==========================================
   */
  else if (interaction.values[0] === 'reports') {
    embed = new EmbedBuilder()
      .setTitle('๐ ุขููุฉ ุงูุดูุงูู')
      .setColor(0x2b2d31)
      .setDescription(`
โโโโโโโโโโโโโโโโโโโโ
ใ ุขููุฉ ุงูุดูุงูู ใ
โโโโโโโโโโโโโโโโโโโโ
1. ูุฌุจ ุชูุฏูู ุฏููู ูุงูู.
2. ุงูุชุตููุฑ ูุน ุงูุตูุช ุฅูุฒุงูู.
3. ุงูุดูุงูู ุจุฏูู ุฏููู ุชูุฑูุถ.
โโโโโโโโโโโโโโโโโโโโ
`);
  }

  /**
   * ==========================================
   * ููุงููู ุงููุชุฌุฑ
   * ==========================================
   */
  else if (interaction.values[0] === 'store') {
    embed = new EmbedBuilder()
      .setTitle('๐ ููุงููู ุงููุชุฌุฑ')
      .setColor(0x2b2d31)
      .setDescription(`
โโโโโโโโโโโโโโโโโโโโ
ใ ููุงููู ุงููุชุฌุฑ ใ
โโโโโโโโโโโโโโโโโโโโ
1. ุฌููุน ุงููุดุชุฑูุงุช ุบูุฑ ูุณุชุฑุฏุฉ.
2. ูููุน ูุดุงุฑูุฉ ุงูุญุณุงุจ.
3. ุงูุงูุชุฒุงู ุจุดุฑูุท ุงููุชุฌุฑ.
โโโโโโโโโโโโโโโโโโโโ
`);
  }

  /**
   * ==========================================
   * ููุงููู ุงูุฏุณููุฑุฏ
   * ==========================================
   */
  else if (interaction.values[0] === 'discord') {
    embed = new EmbedBuilder()
      .setTitle('๐ฌ ููุงููู ุงูุฏุณููุฑุฏ')
      .setColor(0x2b2d31)
      .setDescription(`
โโโโโโโโโโโโโโโโโโโโ
ใ ููุงููู ุงูุฏุณููุฑุฏ ใ
โโโโโโโโโโโโโโโโโโโโ
1. ูููุน ุงูุณุจ ุฃู ุงูุดุชู.
2. ูููุน ุงูุฅุนูุงูุงุช.
3. ุงุญุชุฑุงู ุงูุฌููุน.
โโโโโโโโโโโโโโโโโโโโ
`);
  }

  // ุฅุฑุณุงู ุงูุฑุฏ
  await interaction.editReply({ embeds: [embed] });
});

/**
 * ==========================================
 * ุชุณุฌูู ุฏุฎูู ุงูุจูุช
 * ==========================================
 * ุงูุชููู ูููู ูู Railway Variables
 * ุจุงุณู BOT_TOKEN
 */
client.login(process.env.BOT_TOKEN);
